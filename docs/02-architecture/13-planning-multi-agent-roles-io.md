# Planning å¤šè§’è‰² Agent I/O è§„èŒƒè‰æ¡ˆï¼ˆ2025-11-17ï¼‰

| å±æ€§ | å€¼ |
|------|-----|
| **æœ€åæ›´æ–°** | 2025-11-18 |
| **ç‰ˆæœ¬** | v1.0 |
| **çŠ¶æ€** | âœ… Current |

---

## ğŸ“ æ›´æ–°å†å²

- **2025-11-17**: åˆç¨¿å®Œæˆ

---

> è¯´æ˜ï¼šæœ¬æ–‡ä»¶å®šä¹‰å„è§„åˆ’è§’è‰²ä¸ Coach çš„ I/O åè®®ã€‚  
> å¦‚æœ¬æ–‡ä»¶ä¸ [10-planning-workshop-design.md](./10-planning-workshop-design.md) åœ¨æ•´ä½“æµç¨‹æˆ–æ¾„æ¸…ç­–ç•¥ä¸Šå­˜åœ¨ä¸ä¸€è‡´ï¼Œä»¥åè€…ä¸ºå‡†ã€‚  
> ç›®æ ‡ï¼šä¸ºè§„åˆ’å·¥ä½œåŠå†…éƒ¨çš„æ¯ä¸ªè§’è‰²ï¼ˆProduct/System/SeniorDev/Test/Risk/Coachï¼‰å®šä¹‰æ¸…æ™°çš„è¾“å…¥/è¾“å‡ºåè®®ï¼Œ  
> ä¸ºåç»­æ‹†æˆç‹¬ç«‹ Agent åšå‡†å¤‡ã€‚å½“å‰å®ç°ä»ä¸»è¦é€šè¿‡ `planning` / `planning_meeting` å•æ¬¡è°ƒç”¨æ¨¡æ‹Ÿå¤šè§’è‰²ï¼Œ  
> æœ¬æ–‡æ¡£æ˜¯â€œä¸‹ä¸€æ­¥æ‹†åˆ†â€çš„è®¾è®¡è‰æ¡ˆï¼Œéƒ¨åˆ†å­—æ®µå°šæœªåœ¨ä»£ç ä¸­å®Œå…¨è½åœ°ã€‚

---

## 1. å…¬å…±ä¸Šä¸‹æ–‡ï¼ˆæ‰€æœ‰è§’è‰²å…±äº«ï¼‰

æ— è®ºå“ªä¸ªè§’è‰²ï¼ŒåŸºç¡€è¾“å…¥ä¸Šä¸‹æ–‡æ˜¯ä¸€è‡´çš„ï¼š

- `task_meta`  
  - `taskId`ï¼šä»»åŠ¡ IDã€‚  
  - `cwd`ï¼šå½“å‰ä»“åº“æ ¹ç›®å½•ã€‚  
  - `repo_summary`ï¼šä»“åº“æ–‡ä»¶åˆ—è¡¨æ‘˜è¦ï¼ˆä¾‹å¦‚ `git ls-files` å‰ 100 æ¡ï¼‰ã€‚

- `planning_context`  
  - `planning_ai`ï¼šå½“å‰ç‰ˆ `planning.ai.json`ï¼ˆå¦‚æœ‰ï¼‰ã€‚  
  - `plan_md`ï¼š`planning/plan.md` æ–‡æœ¬ã€‚  
  - `plan_review`ï¼š`planning/plan-review.json`ï¼ˆå« openspec ç»“æœä¸ issuesï¼‰ã€‚  
  - `meeting_history`ï¼š`planning/planning.meeting.json/.md` ä¸­æ—¢å¾€è½®æ¬¡çš„æ¦‚è¦ï¼ˆå¯é€‰ï¼‰ã€‚  
  - `transcript`ï¼š`planning.transcript.jsonl` ä¸­çš„ brief ä¸ clarify å¯¹è¯ï¼ˆæ‘˜è¦å½¢å¼ï¼‰ã€‚  

- `round_info`  
  - `round`ï¼šå½“å‰è§„åˆ’è½®æ¬¡ï¼ˆä» `state.json.actors.planning.round`ï¼‰ã€‚  
  - `previous_rounds`ï¼šè¿‡å»è½®æ¬¡çš„ç®€è¦ç»“è®ºï¼ˆå¯é€‰ï¼‰ã€‚

æ‰€æœ‰è§’è‰²åœ¨åè®®ä¸Šåº”å½“ **åªè¯»** è¿™äº›è¾“å…¥ï¼›ä»»ä½•å¯¹è§„åˆ’æœ¬èº«çš„ä¿®æ”¹ï¼Œå¿…é¡»é€šè¿‡â€œå»ºè®®/patchâ€å½¢å¼è¾“å‡ºï¼Œä¸ç›´æ¥æ”¹æ–‡ä»¶ã€‚

---

## 2. å…¬å…±è¾“å‡ºç»“æ„ï¼šRole Verdict åŸºçº¿

æ¯ä¸ªè§’è‰²åœ¨æœ¬è½®ä¼šè®®ä¸­è‡³å°‘è¾“å‡ºä¸€ä¸ªâ€œVerdict å¯¹è±¡â€ï¼ŒæŒ‚è½½åœ¨ `planning.meeting.json.rounds[].per_role_verdicts[role]` ä¸‹ã€‚

åŸºçº¿ schemaï¼ˆå·²åœ¨ä»£ç ä¸­è½åœ°ä¸º `PlanningMeetingVerdictSchema`ï¼‰ï¼š

```jsonc
{
  "ok": true,                 // true/false/nullï¼šæœ¬è§’è‰²æ˜¯å¦è®¤ä¸ºè§„åˆ’åœ¨å…¶å…³æ³¨ç»´åº¦ä¸Šå¯æ¥å—
  "confidence": 0.8,          // å¯é€‰ï¼Œ0â€“1 ä¹‹é—´çš„ç½®ä¿¡åº¦
  "reasons": ["..."],         // æœ¬è§’è‰²åšå‡º ok/not_ok çš„å…³é”®ç†ç”±ï¼ˆ1â€“N æ¡ï¼‰
  "suggestions": ["..."],     // å»ºè®®çš„ä¼˜åŒ–/æ”¹åŠ¨æ–¹å‘ï¼ˆ1â€“N æ¡ï¼‰
  "blocking_open_questions": ["..."] // å¯é€‰ï¼šè¯¥è§’è‰²è®¤ä¸ºå¿…é¡»å‘ç”¨æˆ·æ¾„æ¸…çš„é—®é¢˜ï¼ˆblocking çš„ open_questionsï¼‰
}
```

åç»­å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šä¸ºæ¯ä¸ªè§’è‰²é™„åŠ ä¸“å±å­—æ®µï¼Œä¾‹å¦‚ï¼š

```jsonc
{
  "ok": false,
  "confidence": 0.9,
  "reasons": ["test_plan.strategy ç¼ºå¤±ï¼Œæ— æ³•è®¾è®¡æœ‰æ•ˆå›å½’ç”¨ä¾‹"],
  "suggestions": ["è¡¥å…… test_plan.strategyï¼Œè‡³å°‘è¦†ç›– happy path / error path"],
  "proposed_changes": {      // å¯é€‰ï¼šå»ºè®®å¯¹ planning.ai.json åšçš„ç»“æ„åŒ–ä¿®æ”¹
    "patch_type": "planning_patch",
    "patch": {
      "test_plan": {
        "strategy": "..."
      }
    }
  }
}
```

å½“å‰ä»£ç åªæ¶ˆè´¹ `ok/confidence/reasons/suggestions` å››ä¸ªå­—æ®µï¼›`proposed_changes` ç­‰æ‰©å±•å­—æ®µæš‚ç•™ä½œæœªæ¥å¢å¼ºã€‚

---

## 3. ProductPlannerï¼ˆäº§å“è§†è§’ï¼‰

**èŒè´£ä¸å…³æ³¨ç‚¹**

- è´Ÿè´£ä¸šåŠ¡ä»·å€¼ä¸èŒƒå›´è¾¹ç•Œï¼š  
  - æ˜ç¡® `why/what`ï¼›  
  - å®šä¹‰ `scope` ä¸ `non_goals`ï¼›  
  - æ ¡éªŒ `acceptance` æ˜¯å¦è¦†ç›–å…³é”®ä¸šåŠ¡åœºæ™¯ã€‚

**ä¸»è¦è¾“å…¥**

- æ¥è‡ª `planning.ai.json`ï¼š  
  - `meta.title` / `why` / `what`  
  - `requirements[]`ï¼ˆå« scenariosï¼‰  
  - `scope` / `non_goals`  
  - `acceptance[]`  
  - `open_questions[]`ï¼ˆä¸ä¸šåŠ¡ç›¸å…³çš„ç–‘é—®ï¼‰
- æ¥è‡ª plan-reviewï¼š  
  - `issues` ä¸­ä¸ planning/requirements/acceptance ç›¸å…³çš„ warning/errorã€‚

**è¾“å‡ºï¼ˆåŸºäºå…¬å…± verdictï¼‰**

- `ok` = trueï¼š  
  - scope/non_goals è¾¹ç•Œæ¸…æ™°ï¼Œä¸»è¦ä¸šåŠ¡åœºæ™¯æœ‰ requirements & acceptance è¦†ç›–ã€‚  
- `ok` = falseï¼š  
  - è‡³å°‘ä¸€ä¸ªä¸¥é‡é—®é¢˜ï¼šèŒƒå›´ä¸æ¸…ã€ç›®æ ‡å†²çªã€éªŒæ”¶æ¡ä»¶ç¼ºå¤±ç­‰ã€‚  
- `reasons`ï¼š  
  - æŒ‡å‡º scope/requirements/acceptance çš„å…·ä½“ç¼ºé™·ã€‚  
- `suggestions`ï¼š  
  - å»ºè®®è¡¥å……/æ‹†åˆ†éœ€æ±‚ã€æ˜ç¡®éç›®æ ‡ã€è¡¥è¶³ä¸šåŠ¡éªŒæ”¶ç‚¹ã€‚

---

## 4. SystemDesignerï¼ˆç³»ç»Ÿè®¾è®¡è§†è§’ï¼‰

**èŒè´£ä¸å…³æ³¨ç‚¹**

- è´Ÿè´£æ”¹åŠ¨èŒƒå›´ä¸æ¨¡å—è§†è§’çš„åˆç†æ€§ï¼š  
  - `targets` ä¸ `draft_files` æ˜¯å¦è¦†ç›–è¯¥åšçš„ã€ä¸è¶Šç•Œï¼›  
  - `file_impacts` æ˜¯å¦åˆç†æè¿°æ–°å¢/ä¿®æ”¹/åˆ é™¤ï¼›  
  - è®¾è®¡æ˜¯å¦ä¸æ—¢æœ‰ç³»ç»Ÿç»“æ„ç›¸å»åˆï¼ˆé€šè¿‡ repo_summary æ¨æ–­ï¼‰ã€‚

**ä¸»è¦è¾“å…¥**

- æ¥è‡ª `planning.ai.json`ï¼š  
  - `targets[]`  
  - `draft_files[]`  
  - `file_impacts[]`  
  - `risks[]`ï¼ˆæŠ€æœ¯æˆ–æ¶æ„é£é™©ï¼‰
- æ¥è‡ª repo/contextï¼š  
  - `repo_summary`ï¼ˆæ–‡ä»¶åˆ—è¡¨å¿«ç…§ï¼‰

**è¾“å‡º**

- `ok` = trueï¼š  
  - å½“å‰ draft_files/targets/file_impacts è¦†ç›–åˆç†ï¼Œæ— æ˜æ˜¾è¶Šç•Œæˆ–é—æ¼ã€‚  
- `ok` = falseï¼š  
  - ä¾‹å¦‚ï¼šç›®æ ‡æ–‡ä»¶è¿‡ç²—/è¿‡ç»†ã€ç¼ºå°‘å…³é”®æ¨¡å—ã€å½±å“é¢æè¿°ä¸æ¸…ã€‚  
- `reasons`ï¼š  
  - é’ˆå¯¹ draft_files/targets/file_impacts çš„é—®é¢˜ã€‚  
- `suggestions`ï¼š  
  - å»ºè®®æ–°å¢/åˆ é™¤/è°ƒæ•´ draft_files å’Œ file_impactsï¼›  
  - æç¤ºéœ€è¦æ˜¾å¼è®°å½•çš„æŠ€æœ¯é£é™©æˆ–è®¾è®¡å‡è®¾ã€‚

---

## 5. SeniorDeveloperï¼ˆå®ç°è§†è§’ï¼‰

**èŒè´£ä¸å…³æ³¨ç‚¹**

- ç«™åœ¨â€œè½åœ°å®ç°â€çš„è§’åº¦è¯„ä¼°è§„åˆ’ï¼š  
  - å¤æ‚åº¦æ˜¯å¦åˆç†ï¼›  
  - æ˜¯å¦éšå«è¶…å‡ºä¸€æ¬¡è¿­ä»£çš„å·¥ä½œé‡ï¼›  
  - æ˜¯å¦éœ€è¦æ‹†åˆ†ä¸ºå¤šä¸ª taskã€‚

**ä¸»è¦è¾“å…¥**

- æ¥è‡ª `planning.ai.json`ï¼š  
  - `tasks[]`  
  - `draft_files[]` / `targets[]`  
  - `risks[]` / `acceptance[]`

**è¾“å‡º**

- `ok` = trueï¼š  
  - å½“å‰è§„åˆ’åœ¨ä¸€æ¬¡ä»»åŠ¡ç»´åº¦å¯å®ç°ã€‚  
- `ok` = falseï¼š  
  - ä¾‹å¦‚ï¼šä»»åŠ¡è¿‡å¤§ã€è€¦åˆåº¦è¿‡é«˜ã€ç¼ºå°‘å‰ç½®æŠ€æœ¯å‡†å¤‡ã€‚  
- `reasons`ï¼š  
  - æŒ‡å‡ºå®ç°éš¾ç‚¹å’Œå¯èƒ½çš„å¤±è´¥ç‚¹ã€‚  
- `suggestions`ï¼š  
  - å»ºè®®æ‹†åˆ†ä»»åŠ¡ã€å¼•å…¥é¢„ç ”/Spikeã€è°ƒæ•´ä¼˜å…ˆçº§ç­‰ã€‚

---

## 6. TestPlannerï¼ˆæµ‹è¯•è§†è§’ï¼‰

**èŒè´£ä¸å…³æ³¨ç‚¹**

- è´Ÿè´£æµ‹è¯•è®¡åˆ’ä¸å¯æµ‹æ€§ï¼š  
  - `test_plan.strategy/cases/automation` æ˜¯å¦å­˜åœ¨ä¸”åˆç†ï¼›  
  - requirements æ˜¯å¦å¯ä»¥æ˜ å°„åˆ°å¯æ‰§è¡Œç”¨ä¾‹ï¼›  
  - æ˜¯å¦å­˜åœ¨â€œæ— æ³•æµ‹è¯•â€çš„åŒºåŸŸã€‚

**ä¸»è¦è¾“å…¥**

- æ¥è‡ª `planning.ai.json`ï¼š  
  - `requirements[]`ï¼ˆå°¤å…¶æ˜¯ scenariosï¼‰  
  - `test_plan.strategy` / `test_plan.cases[]` / `test_plan.automation`  
  - `acceptance[]`
- æ¥è‡ª plan-reviewï¼š  
  - `TEST_PLAN_EMPTY` ç­‰ä¸ test_plan ç›¸å…³çš„ issuesã€‚

**è¾“å‡º**

- `ok` = trueï¼š  
  - æœ‰æ˜ç¡® test_planï¼Œè¦†ç›–ä¸»è¦ requirementsã€‚  
- `ok` = falseï¼ˆå½“å‰å·²ç»éƒ¨åˆ†å¼ºåˆ©ç”¨ï¼‰ï¼š  
  - strategy ç¼ºå¤±æˆ–æ˜æ˜¾ä¸è¶³ï¼›  
  - æ— æ³•å¯¹å…³é”®éœ€æ±‚è®¾è®¡æœ‰æ•ˆç”¨ä¾‹ã€‚  
- `reasons`ï¼š  
  - æŒ‡å‡º test_plan/requirements/acceptance ä¸­çš„ç¼ºé™·ã€‚  
- `suggestions`ï¼š  
  - å»ºè®®è¡¥å……æµ‹è¯•ç­–ç•¥ã€å…³é”®ç”¨ä¾‹ã€è‡ªåŠ¨åŒ–èŒƒå›´ï¼›  
  - æ ‡è®°å“ªäº›éœ€æ±‚æš‚æ—¶æ— æ³•æœ‰æ•ˆæµ‹è¯•ã€‚

---

## 7. RiskPlannerï¼ˆé£é™©è§†è§’ï¼‰

**èŒè´£ä¸å…³æ³¨ç‚¹**

- è´Ÿè´£è¯†åˆ«é£é™©ä¸ä¿¡æ¯é»‘æ´ï¼š  
  - `risks[]` æ˜¯å¦å®Œæ•´ï¼›  
  - `open_questions[]` æ˜¯å¦æŒ‡å‡ºäº†å…³é”®ä¸ç¡®å®šæ€§ï¼›  
  - æ˜¯å¦å­˜åœ¨â€œæ— æ³•æ¥å—â€çš„å¤–éƒ¨ä¾èµ–æˆ–å‰ç½®æ¡ä»¶ã€‚

**ä¸»è¦è¾“å…¥**

- æ¥è‡ª `planning.ai.json`ï¼š  
  - `risks[]`  
  - `open_questions[]`  
  - `notes`ï¼ˆå¯é€‰è¡¥å……è¯´æ˜ï¼‰
- æ¥è‡ª plan-reviewï¼š  
  - ä¸ openspecã€ç»“æ„é—®é¢˜ç›¸å…³çš„ error/warningã€‚

**è¾“å‡º**

- `ok` = trueï¼š  
  - é£é™©å·²è¢«åˆç†è¯†åˆ«å¹¶è®°å½•ï¼Œå‰©ä½™ä¸ç¡®å®šæ€§å¯æ¥å—ã€‚  
- `ok` = falseï¼ˆå½“å‰å·²ç»éƒ¨åˆ†å¼ºåˆ©ç”¨ï¼‰ï¼š  
  - å­˜åœ¨é«˜é£é™©æˆ–å…³é”®ä¿¡æ¯ç¼ºå¤±ï¼Œè§„åˆ’æ— æ³•å®‰å…¨è¿›å…¥ codegenã€‚  
- `reasons`ï¼š  
  - åˆ—å‡ºé«˜é£é™©ç‚¹ä¸ä¿¡æ¯ç©ºç™½ã€‚  
- `suggestions`ï¼š  
  - å»ºè®®å¢åŠ è°ƒç ”ã€ç¼©å°èŒƒå›´ã€æ‹†åˆ† task æˆ–è°ƒæ•´ä¼˜å…ˆçº§ã€‚

---

## 8. Coachï¼ˆæ•æ·æ•™ç»ƒ / ä¸»æŒäººï¼‰

**èŒè´£ä¸å…³æ³¨ç‚¹**

- å†…éƒ¨ï¼šåè°ƒä¸è£å†³ï¼ˆè§„åˆ’å·¥ä½œåŠä¸»æŒäººï¼‰  
  - å¬é›†å¹¶è½®è¯¢å„ä¸“å®¶è§’è‰²å‘è¨€ï¼Œç¡®ä¿æ¯ä¸€è½®è®¨è®ºä¸­æ¯ä¸ªè§’è‰²éƒ½åŸºäºæœ€æ–°å…±è¯†ç»™å‡ºè§‚ç‚¹ï¼›  
  - èšåˆå„è§’è‰² verdictï¼Œæ§åˆ¶è®¨è®ºèŠ‚å¥ï¼Œé¿å…æ— é™å‘æ•£ï¼›  
  - åœ¨éœ€è¦æ—¶ç»„ç»‡â€œç”¨æˆ· + ç‰¹å®šè§’è‰²â€çš„å°ä¼šï¼šå½“æŸä¸ªè§’è‰²æå‡ºå¿…é¡»å‘ç”¨æˆ·æ¾„æ¸…çš„é—®é¢˜æ—¶ï¼Œç”±æ•™ç»ƒä½œä¸ºä¼ å£°ç­’å°†é—®é¢˜è½¬è¿°ç»™ç”¨æˆ·ã€å†å°†ç”¨æˆ·å›ç­”åŸæ ·+å¿…è¦æ‘˜è¦åé¦ˆç»™è¯¥è§’è‰²ï¼Œå¹¶æ•¦ä¿ƒåŒæ–¹å¯¹è¯ä¸åç¦»ä¸»é¢˜ï¼›  
  - å†³å®šæœ¬è½®æ•´ä½“å†³ç­–ï¼š`go | hold | redo_planning`ã€‚  
- å¤–éƒ¨ï¼šå‘ç”¨æˆ·æ±‡æŠ¥ï¼ˆå•ä¸€å¯¹å¤–çª—å£ï¼‰  
  - ç”¨è‡ªç„¶è¯­è¨€å‘ç”¨æˆ·è§£é‡Šå½“å‰è§„åˆ’å…±è¯†ä¸åˆ†æ­§ï¼Œè€Œä¸æ˜¯æš´éœ²å†…éƒ¨å¤šè§’è‰²ç»†èŠ‚ï¼›  
  - è¾“å‡ºä¸€æ®µç®€æ´ summaryï¼›  
  - ç»™å‡ºä¸‹ä¸€æ­¥å»ºè®®ï¼›  
  - å‘Šè¯‰ç”¨æˆ·å“ªäº›ç»´åº¦å­˜åœ¨çº¢ç¯/é»„ç¯ï¼Œå¹¶åœ¨éœ€è¦æ—¶å‘èµ·æ¾„æ¸…å¯¹è¯ã€‚

**ä¸»è¦è¾“å…¥**

- æ‰€æœ‰å‰è¿°è§’è‰²çš„ verdictï¼š`per_role_verdicts`ã€‚  
- plan-review ç»“æœä¸ openspec issuesã€‚  
- è§„åˆ’å·¥ä½œåŠçš„ transcript æ‘˜è¦ï¼ˆæœ€è¿‘å‡ è½®ç”¨æˆ·åé¦ˆï¼‰ã€‚

**è¾“å‡º**

- åœ¨ `planning.meeting.json.meeting` ä¸­ï¼š  
  - `summary`ï¼šä¸€å¥è¯æ€»ç»“æ˜¯å¦å»ºè®®è¿›å…¥ codegenã€‚  
  - `key_points[]`ï¼šä¸»è¦ç»“è®ºã€‚  
  - `risks[]`ï¼šä»å„è§’è‰²ã€plan-review ç»¼åˆæ¥çš„é£é™©æ‘˜è¦ã€‚  
  - `open_questions[]`ï¼šéœ€è¦ç”¨æˆ·æˆ–åç»­é˜¶æ®µè§£ç­”çš„é—®é¢˜ã€‚  
  - `next_actions[]`ï¼šæ˜ç¡®çš„ä¸‹ä¸€æ­¥è¡ŒåŠ¨å»ºè®®ã€‚  
  - `decision`: `"go" | "hold" | "redo_planning"`ã€‚  
- åœ¨ `rounds[0]` ä¸­ï¼š  
  - `coach_summary`ï¼šå¯¹æœ¬è½®è®¨è®ºçš„ç®€çŸ­æ–‡å­—æ€»ç»“ã€‚  

---

## 9. æ¯ä¸ªè§’è‰²è¿˜ç¼ºä»€ä¹ˆï¼Ÿï¼ˆèƒ½åŠ›ç¼ºå£ä¸è®¾è®¡è¡¥å……ï¼‰

### 9.1 Product/System/SeniorDevï¼šä»â€œçœ‹æè¿°â€åˆ°â€œçœ‹ä»£ç â€

å½“å‰ä¸‰è€…ä¸»è¦åªçœ‹ `planning.ai.json` ä¸­çš„å­—æ®µï¼Œè¿˜ç¼ºï¼š

- å¯¹çœŸå®ä»£ç /ç›®å½•ç»“æ„çš„æ›´æ·±å…¥æ„ŸçŸ¥ï¼š  
  - éœ€è¦å¼•å…¥æŒ‰æ¨¡å—èšåˆçš„ repo è§†å›¾ï¼ˆæ¯”å¦‚â€œæ¨¡å— â†’ ç›®å½•/æ–‡ä»¶åˆ—è¡¨â€ï¼‰ï¼Œè€Œä¸ä»…æ˜¯æ–‡ä»¶æ¸…å•å­—ç¬¦ä¸²ã€‚  
  - ä¸º SystemDesigner/SeniorDev è®¾è®¡ç»Ÿä¸€çš„ `code_structure` è¾“å…¥ï¼š  
    ```jsonc
    {
      "modules": [
        { "name": "billing-core", "paths": ["src/billing/**"], "languages": ["java"] }
      ]
    }
    ```
- å¯¹â€œå¤šä»»åŠ¡ä¹‹é—´å†²çªâ€çš„è§†è§’ï¼š  
  - Product/System è§’è‰²æœªæ¥è¦èƒ½çœ‹åˆ°ï¼šå…¶å®ƒ task æ˜¯å¦ä¹Ÿåœ¨æ”¹åŒä¸€æ¨¡å—ï¼›  
  - éœ€è¦é¢„ç•™ä¸€ä¸ª `project_context.other_tasks[]` è¾“å…¥ï¼ˆåç»­ PMO çº§è®¾è®¡ï¼‰ã€‚

è®¾è®¡è¡¥å……ï¼ˆå¯å†™å…¥ future schemaï¼Œè€Œæš‚ä¸å¼ºåˆ¶å®ç°ï¼‰ï¼š

- ProductPlanner å¢åŠ ï¼š  
  - `impact_summary`: æ¦‚æ‹¬å¯¹ç”¨æˆ·/ä¸šåŠ¡çš„å½±å“ï¼›  
  - `non_goal_risks[]`: è¯´æ˜ non_goals è‹¥è¢«è¯¯åšçš„æ½œåœ¨åæœã€‚
- SystemDesigner å¢åŠ ï¼š  
  - `design_notes[]`: é’ˆå¯¹æ¶æ„/æ¨¡å—çš„ç®€çŸ­å»ºè®®ï¼›  
  - `migration_risks[]`: è‹¥æ¶‰åŠé‡æ„/è¿ç§»çš„é¢å¤–é£é™©ã€‚  
- SeniorDeveloper å¢åŠ ï¼š  
  - `effort_estimate`: ç²—ç²’åº¦å·¥ä½œé‡ä¼°è®¡ï¼ˆS/M/L/XLï¼‰ï¼›  
  - `split_suggestions[]`: å¦‚è®¤ä¸º task è¿‡å¤§ï¼Œç»™å‡ºæ‹†åˆ†å»ºè®®ã€‚

### 9.2 TestPlannerï¼šä¸ /eval çš„é—­ç¯

å½“å‰ TestPlanner åªåœ¨è§„åˆ’é˜¶æ®µç»™ verdictï¼Œè¿˜ç¼ºï¼š

- ä¸ `TestAgent` çš„åè®®ç»‘å®šï¼š  
  - åœ¨ `test_plan` ä¸­æ ‡è®°å“ªäº› cases å»ºè®®åšæˆ eval æ­¥éª¤ï¼›  
  - è®© TestAgent èƒ½è¯»æ‡‚è¿™äº›æ ‡è®°ï¼Œç”Ÿæˆ/ç­›é€‰ eval.confã€‚
- å¯¹â€œæµ‹è¯•æ•°æ®/ç¯å¢ƒâ€çš„è€ƒè™‘ï¼š  
  - å¢åŠ  `test_plan.data_requirements[]` å’Œ `env_requirements[]` å­—æ®µï¼Œæç¤ºéœ€è¦çš„æµ‹è¯•è´¦æˆ·/é…ç½®/ä¾èµ–æœåŠ¡ã€‚

è®¾è®¡è¡¥å……ï¼š

- åœ¨ verdict ä¸­å¢åŠ ï¼š  
  ```jsonc
  {
    "ok": false,
    "reasons": ["ç¼ºå°‘å›å½’ç”¨ä¾‹"],
    "suggestions": ["ä¸º REQ-1/REQ-2 å„å¢åŠ è‡³å°‘ 1 æ¡å›å½’ç”¨ä¾‹"],
    "eval_links": [
      { "case": "ç”¨æˆ·æ­£å¸¸ä¸‹å•", "suggested_step": "e2e_order_flow" }
    ]
  }
  ```
- ä¸­æœŸå¯ä»¥è®© TestPlanner ä¸º eval è´¡çŒ®â€œå‘½åå¥½çš„æµ‹è¯•æ­¥éª¤æç¤ºâ€ï¼Œè€Œ TestAgent è´Ÿè´£æŠŠå®ƒä»¬æ˜ å°„åˆ°å®é™…å‘½ä»¤ã€‚

### 9.3 RiskPlannerï¼šä¸è·¨é˜¶æ®µé—¨ç¦è§„åˆ™

å½“å‰ RiskPlanner çš„ not_ok åªåœ¨è§„åˆ’ä¼šè®®å†…éƒ¨è§¦å‘ soft gateï¼Œè¿˜ç¼ºï¼š

- å¯¹â€œæ— æ³•æ¥å—çš„é£é™©â€çš„æ›´æ˜ç¡®æšä¸¾ï¼š  
  - ä¾‹å¦‚ `severity: low|medium|high|critical`ï¼Œä»¥åŠ `blocker: boolean`ã€‚  
- ä¸è·¨é˜¶æ®µå†³ç­–çš„çº¦æŸï¼š  
  - ä¸€æ—¦å­˜åœ¨ `blocker = true` çš„é£é™©ï¼Œåç»­é˜¶æ®µï¼ˆå°¤å…¶æ˜¯ codegen/acceptï¼‰è‡³å°‘è¦æœ‰æ˜¾å¼æç¤ºç”šè‡³ç¦æ­¢è‡ªåŠ¨å‰è¿›ã€‚

è®¾è®¡è¡¥å……ï¼š

- åœ¨ verdict ä¸­å¢åŠ ï¼š  
  ```jsonc
  {
    "ok": false,
    "confidence": 0.9,
    "reasons": ["å¤–éƒ¨æ”¯ä»˜æœåŠ¡ API ä¸æ˜ç¡®ï¼Œæ— æ³•å®šä¹‰é”™è¯¯å¤„ç†ç­–ç•¥"],
    "suggestions": ["å…ˆæ˜ç¡®æ”¯ä»˜ API å¥‘çº¦ï¼Œæˆ–é™çº§ä¸ºæœ¬åœ° mock æ¨¡å¼"],
    "blocker": true
  }
  ```
- æœªæ¥ Orchestrator æˆ– Coach å¯æ®æ­¤å°† `decision` å¼ºåˆ¶è®¾ä¸º `"redo_planning"` æˆ– `"hold"`ã€‚

### 9.4 Coachï¼šå¯¹è¯èŠ‚å¥ä¸å¤šè½®è®°å¿†

å½“å‰ Coach æ›´å¤šæ˜¯â€œåˆæˆä¸€æ¬¡æ€§å†³ç­–â€ï¼Œè¿˜ç¼ºï¼š

- å¯¹å¤šè½®å¯¹è¯çš„èŠ‚å¥çº¦æŸï¼š  
  - ä¾‹å¦‚â€œæ¯è½®æœ€å¤šé—® 3 ä¸ªæ¾„æ¸…é—®é¢˜â€â€œç”¨æˆ·è¿ç»­ä¸¤è½®éƒ½è¡¨ç¤ºå›°æƒ‘æ—¶ï¼Œå»ºè®®ç¼©å°èŒƒå›´â€ã€‚  
- å¯¹è®°å¿†çš„ä¸»åŠ¨ç®¡ç†ï¼š  
  - å“ªäº›ä¿¡æ¯å†™å…¥ `planning.memory.jsonl`ï¼Œå“ªäº›ä»…ç•™åœ¨å½“è½®ï¼›  
  - å¦‚ä½•åœ¨æ–°ä¸€è½® `/plan` æ—¶ï¼Œç»™ç”¨æˆ·å›é¡¾ä¸Šä¸€è½®è®¨è®ºçš„è¦ç‚¹ã€‚

è®¾è®¡è¡¥å……ï¼š

- ä¸º Coach å®šä¹‰ä¸€ä¸ª `conversation_policy`ï¼š  
  ```jsonc
  {
    "max_questions_per_round": 3,
    "max_rounds_before_summary": 2,
    "always_remind_scope_before_codegen": true
  }
  ```
- å°† Coach å¯¹è¯ç­–ç•¥å†™å…¥ prompt å’Œ meeting.meeting ä¸­ï¼Œä½œä¸ºè¿™ä¸ªè§’è‰²â€œäººæ ¼â€çš„ä¸€éƒ¨åˆ†ã€‚

---

## 10. åç»­æ‹†åˆ†ä¸ºç‹¬ç«‹ Agent çš„æ–¹å‘

åœ¨å½“å‰â€œå•æ¬¡è°ƒç”¨ + å¤š personaâ€åŸºç¡€ä¸Šï¼Œæœªæ¥æ‹†åˆ†å¯æŒ‰ä»¥ä¸‹é¡ºåºæ¨è¿›ï¼š

1. ä¸ºæ¯ä¸ªè§’è‰²æ–°å¢ç‹¬ç«‹ prompt æ–‡ä»¶ä¸æ¨¡å‹ roleï¼š  
   - å¦‚ `prompts/planning/ProductPlanner.system.md`ï¼›  
   - åœ¨ `models.conf` ä¸­å£°æ˜å¯¹åº” roleã€‚  
2. å¢åŠ ä¸­é—´å±‚ orchestratorï¼š  
   - ä¾æ¬¡è°ƒç”¨ Product/System/Test/Risk/SeniorDev è§’è‰²ï¼›  
   - æ±‡æ€»å„è‡ª verdict + proposed_changesã€‚  
3. å°†æ•™ç»ƒé€»è¾‘ï¼ˆCoachï¼‰æ‹†æˆç‹¬ç«‹ Agentï¼š  
   - åªæ¶ˆè´¹å„è§’è‰² verdict ä¸ plan-review ç»“æœï¼›  
   - è´Ÿè´£å†™å…¥ `planning.meeting.json/.md` ä¸å†³ç­–ã€‚  

æœ¬æ–‡ä»¶ä¸­çš„ I/O è§„èŒƒåº”ä½œä¸ºæ‹†åˆ†æ—¶çš„å‚è€ƒï¼š**å…ˆä¿è¯ schema å’ŒèŒè´£ç¨³å®šï¼Œå†é€æ­¥ä»â€œå•æ¨¡å‹å¤š personaâ€è¿ç§»åˆ°â€œå¤š Agent + çŠ¶æ€æœºâ€å®ç°**ã€‚***

---

## 11. è®¨è®ºåè®®ï¼ˆå¤šè½®ã€å¤šè§’è‰²ï¼‰

> æœ¬èŠ‚å®šä¹‰â€œè®¨è®º/å¼€ä¼šâ€æœ¬èº«çš„åè®®ï¼šå½“å¤šä¸ªè§„åˆ’è§’è‰²å›´ç»•æŸä¸ªè®®é¢˜å¼€ä¼šæ—¶ï¼Œ  
> å¦‚ä½•æŒ‰è½®æ¬¡ã€é¡ºåºã€æœ‰è®°å¿†åœ°è¿›è¡Œå¤šè½®å‘è¨€ä¸æ”¶æ•›ï¼Œç›´åˆ°æ‰€æœ‰è§’è‰²è¾¾æˆå…±è¯†ã€‚

### 11.1 åŸºæœ¬æ¦‚å¿µ

- **è®®é¢˜ï¼ˆtopic/issueï¼‰**  
  - ä¸€æ¬¡è®¨è®ºå›´ç»•ä¸€ä¸ªæ˜ç¡®è®®é¢˜å±•å¼€ï¼Œä¾‹å¦‚ï¼šâ€œscope æ˜¯å¦è¿‡å¤§â€â€œtest_plan æ˜¯å¦è¶³å¤Ÿâ€ã€‚  
  - æ¯ä¸ªè®®é¢˜åº”æœ‰ä¸€ä¸ªç¨³å®šçš„ `issue_id`ï¼š  
    ```jsonc
    {
      "issue_id": "scope-too-broad",
      "title": "æœ¬æ¬¡è§„åˆ’çš„ scope æ˜¯å¦è¿‡å¤§",
      "created_at": "2025-11-17T12:34:56Z"
    }
    ```

- **è½®æ¬¡ï¼ˆroundï¼‰**  
  - æ¯è½®åŒ…å«ä¸€ä¸ªå›ºå®šçš„å‘è¨€é¡ºåºï¼šProduct â†’ System â†’ SeniorDev â†’ Test â†’ Risk â†’ Coachã€‚  
  - åŒä¸€è½®å†…ï¼Œæ¯ä¸ªè§’è‰²æœ€å¤šå‘è¨€ä¸€æ¬¡ï¼ˆå¯ä»¥é€‰æ‹©â€œæ— æ–°æ„è§â€ï¼‰ã€‚  

- **ç«‹åœºï¼ˆpositionï¼‰**  
  - æ¯æ¬¡è§’è‰²å‘è¨€éƒ½åº”æ˜ç¡®ç«‹åœºï¼š  
    - `"agree"`ï¼šåŒæ„å½“å‰è§„åˆ’åœ¨æœ¬è®®é¢˜ä¸Šçš„çŠ¶æ€ï¼›  
    - `"concern"`ï¼šæœ‰ç–‘è™‘ä½†ä¸è®¤ä¸ºå¿…é¡»é˜»å¡ï¼›  
    - `"block"`ï¼šè®¤ä¸ºå¿…é¡»è§£å†³åæ‰èƒ½ç»§ç»­ï¼›  
    - `"skip"`ï¼šæœ¬è½®ä¸å‘è¨€ï¼ˆä¾‹å¦‚å·²åœ¨ä¸Šä¸€è½®æ˜ç¡®åŒæ„ã€ä¸å†è¡¥å……ï¼‰ã€‚  

### 11.2 å•è½®è®¨è®ºè®°å½•ç»“æ„

åœ¨ `planning.meeting.json` ä¸­ï¼Œä¸ºæ¯ä¸ªè®®é¢˜æ–°å¢ä¸€ä¸ª `issues_discussion[]`ï¼ˆå‘½åå¯åç»­å¾®è°ƒï¼‰ï¼š

```jsonc
{
  "issue_id": "scope-too-broad",
  "title": "æœ¬æ¬¡è§„åˆ’çš„ scope æ˜¯å¦è¿‡å¤§",
  "rounds": [
    {
      "round": 1,
      "at": "2025-11-17T12:34:56Z",
      "entries": [
        {
          "role": "ProductPlanner",
          "position": "block",
          "comment": "å½“å‰ scope è¦†ç›–äº†ä¸¤ä¸ªè¿­ä»£çš„å†…å®¹ï¼Œå»ºè®®æ‹†åˆ†ã€‚",
          "based_on_roles": [],   // é¦–è½®å¯ä¸ºç©º
          "verdict_snapshot": {   // å¯é€‰ï¼Œè®°å½•å½“è½®è¯¥è§’è‰²çš„ verdict æ‘˜è¦
            "ok": false,
            "reasons": ["..."]
          }
        },
        {
          "role": "SystemDesigner",
          "position": "concern",
          "comment": "draft_files æ¶µç›–ä¸¤ä¸ªå­ç³»ç»Ÿï¼Œå»ºè®®æŒ‰æ¨¡å—æ‹† taskã€‚",
          "based_on_roles": ["ProductPlanner"]
        },
        {
          "role": "SeniorDeveloper",
          "position": "concern",
          "comment": "å®ç°å·¥ä½œé‡è¾ƒå¤§ï¼Œä½†å¯é€šè¿‡æ‹†åˆ†å­ä»»åŠ¡è§£å†³ã€‚",
          "based_on_roles": ["ProductPlanner", "SystemDesigner"]
        },
        {
          "role": "TestPlanner",
          "position": "block",
          "comment": "å½“å‰ test_plan æ— æ³•è¦†ç›–æ‰€æœ‰åœºæ™¯ï¼Œå»ºè®®æ˜ç¡® M1/M2 çš„è¾¹ç•Œã€‚",
          "based_on_roles": ["ProductPlanner"]
        },
        {
          "role": "RiskPlanner",
          "position": "concern",
          "comment": "ä¸æ¸…æ¥šç¬¬äºŒé˜¶æ®µçš„å¤–éƒ¨ä¾èµ–ï¼Œå»ºè®®åœ¨ notes ä¸­æ˜ç¡®ã€‚",
          "based_on_roles": ["ProductPlanner", "SystemDesigner"]
        },
        {
          "role": "Coach",
          "position": "block",
          "comment": "ç»¼åˆæ¥çœ‹ï¼Œåº”å…ˆç¼©å° scopeï¼Œå†é‡æ–°ç¡®è®¤ test_planã€‚",
          "based_on_roles": ["ProductPlanner", "TestPlanner"]
        }
      ]
    }
  ]
}
```

è¯´æ˜ï¼š

- `based_on_roles[]` ç”¨äºè®°å½•è¯¥å‘è¨€å¼•ç”¨/å›åº”äº†å“ªäº›è§’è‰²çš„è§‚ç‚¹ï¼Œå¸®åŠ©å›æ”¾â€œè°å½±å“äº†è°â€ã€‚  
- `verdict_snapshot` å¯é€‰ï¼šç”¨äºè®°å½•å½“è½®è¯¥è§’è‰²åœ¨å…¶æ•´ä½“ verdictï¼ˆ`per_role_verdicts`ï¼‰ä¸­çš„çŠ¶æ€ï¼Œä¾¿äºå¯¹æ¯”å‰åå˜åŒ–ã€‚

### 11.3 å¤šè½®è®¨è®ºä¸å…±è¯†è§„åˆ™

**å‘è¨€é¡ºåºä¸è¾“å…¥ï¼š**

- æ¯è½®å›ºå®šå‘è¨€é¡ºåºï¼šProduct â†’ System â†’ SeniorDev â†’ Test â†’ Risk â†’ Coachã€‚  
- ä»ç¬¬äºŒè½®å¼€å§‹ï¼Œæ¯ä¸ªè§’è‰²åœ¨æ€è€ƒæ—¶éƒ½åº”æºå¸¦ä¸Šä¸€è½®æ‰€æœ‰è§’è‰²çš„å‘è¨€å’Œç«‹åœºï¼š  
  - è¾“å…¥å¢åŠ  `previous_rounds`ï¼ŒåŒ…å«ä¸Šä¸€è½®çš„ entries æ‘˜è¦ã€‚  
  - è§’è‰²å¯ä»¥é€‰æ‹©ï¼šç»´æŒåŸç«‹åœºã€è°ƒæ•´ä¸º agreeã€æå‡ºæ–°çš„ concern/blockã€‚

**æ˜¯å¦å¼€å¯ä¸‹ä¸€è½®ï¼ˆç”± Coach å†³ç­–ï¼‰ï¼š**

- Coach åœ¨æ¯è½®ç»“æŸæ—¶æ£€æŸ¥æ‰€æœ‰è§’è‰²çš„ç«‹åœºï¼š  
  - è‹¥å­˜åœ¨ä»»ä¸€è§’è‰² `position = "block"`ï¼Œåˆ™å¿…é¡»å¼€å¯æ–°ä¸€è½®è®¨è®ºï¼ˆå‰ææ˜¯æœ‰å¯è®¨è®ºç©ºé—´ï¼‰ï¼›  
  - è‹¥åªæœ‰ `concern`ï¼Œç”± Coach åˆ¤æ–­æ˜¯é€šè¿‡è°ƒæ•´è§„åˆ’ï¼ˆä¾‹å¦‚ç¼©å° scopeï¼‰è¿›å…¥ä¸‹ä¸€è½®ï¼Œè¿˜æ˜¯ç›´æ¥ä»¥ â€œholdâ€ å†³ç­–ç»“æŸå½“å‰è®®é¢˜ï¼›  
  - è‹¥å…¨éƒ¨è§’è‰² `position = "agree"` æˆ– `position = "skip"`ï¼Œåˆ™è®¤ä¸ºæœ¬è®®é¢˜è¾¾æˆå…±è¯†ï¼Œè®¨è®ºç»“æŸã€‚

**è·³è¿‡å·²è¾¾æˆå…±è¯†çš„è§’è‰²ï¼š**

- ä»ç¬¬äºŒè½®å¼€å§‹ï¼Œè‹¥æŸè§’è‰²åœ¨ä¸Šä¸€è½®å·²ç» `position = "agree"`ï¼Œä¸”å…¶å…³æ³¨ç‚¹æœªè¢«åç»­è®¨è®ºæ˜æ˜¾æ”¹å˜ï¼š  
  - åœ¨æ–°ä¸€è½®ä¸­å…è®¸è¯¥è§’è‰²ç›´æ¥è¾“å‡ºä¸€æ¡ `position = "skip"` çš„ entryï¼Œæˆ–è€…å®Œå…¨çœç•¥è¯¥è§’è‰²çš„ entryï¼›  
  - Coach åœ¨ summary ä¸­å¯ä»¥æ ‡è®°â€œæœ¬è½®è·³è¿‡äº†å·²è¾¾æˆå…±è¯†çš„è§’è‰² A/B/Câ€ã€‚

**ç»“æŸæ¡ä»¶ä¸è¾“å‡ºï¼š**

- å½“æ‰€æœ‰è§’è‰²åœ¨æŸä¸€è½®å `position` å‡ä¸º `"agree"` æˆ– `"skip"`ï¼š  
  - è¯¥è®®é¢˜çš„ `status` è®°ä¸º `"resolved"`ï¼›ï¼ˆå½“å‰å®ç°ä¸­ï¼Œç®€åŒ–ä¸ºå½“ Coach çš„æ•´ä½“ `decision = "go"` æ—¶è§†ä¸º resolvedï¼Œå…¶å®ƒæƒ…å†µè§†ä¸º `"unresolved"`ï¼‰  
  - Coach åœ¨ `meeting.summary` ä¸ `next_actions` ä¸­å†™å…¥ç»“è®ºä¸å¯¹åº”æ”¹åŠ¨å»ºè®®ï¼ˆå¦‚â€œscope å·²ç¼©å°ä¸º A/Bï¼Œä¸‹ä¸€æ­¥æŒ‰ç…§æ–°è§„åˆ’è¿›å…¥ codegenâ€ï¼‰ã€‚  
- è‹¥è®¨è®ºè¾¾åˆ°é¢„è®¾æœ€å¤§è½®æ¬¡ä»å­˜åœ¨ `block`ï¼š  
  - è¯¥è®®é¢˜çš„ `status` è®°ä¸º `"unresolved"`ï¼›  
  - Coach çš„ `decision` å€¾å‘è®¾ä¸º `"redo_planning"` æˆ– `"hold"`ï¼Œå¹¶åœ¨ `risks/open_questions` ä¸­æ˜ç¡®è®°å½•æœªè§£å†³ç‚¹ã€‚

### 11.4 ä¸ç°æœ‰äº§ç‰©çš„å…³ç³»

- `per_role_verdicts`ï¼š  
  - è¡¨ç¤ºæœ¬è½®ä¼šè®®æ¯ä¸ªè§’è‰²çš„æ•´ä½“ç»“è®ºï¼ˆè·¨è®®é¢˜çš„ç»¼åˆ verdictï¼‰ã€‚  
  - å¯ä» `issues_discussion` ä¸­æŒ‰è§’è‰²èšåˆï¼Œä¹Ÿå¯ä»¥å•ç‹¬è°ƒç”¨ per-role æ¨¡å‹ç”Ÿæˆã€‚  
- `planning.memory.jsonl`ï¼š  
  - å»ºè®®å°† `issues_discussion.rounds[].entries` çš„ç²¾ç®€ç‰ˆæœ¬å†™å…¥ memoryï¼š  
    - å¦‚ `kind = "discussion_entry"`, `content = { issue_id, round, role, position, comment }`ã€‚  
  - æ–¹ä¾¿æœªæ¥å¯¹æŸä¸ªè®®é¢˜åšâ€œæ—¶é—´è½´å›æ”¾â€æˆ–è·¨ä»»åŠ¡åˆ†æã€‚

> å½“å‰ä»£ç é˜¶æ®µï¼šæˆ‘ä»¬å·²å…·å¤‡ per-role verdictã€å¤šæ¨¡å‹è°ƒç”¨å’Œç®€å•å†³ç­–ï¼Œ  
> æœ¬èŠ‚å®šä¹‰çš„â€œæŒ‰è®®é¢˜å¤šè½®è®¨è®ºåè®®â€æš‚æœªå®Œå…¨å®ç°ï¼Œä½œä¸ºä¸‹ä¸€é˜¶æ®µæ¼”è¿›çš„æ˜ç¡®è§„èŒƒã€‚  

---

## 12. è§„åˆ’å·¥ä½œåŠåç»­ç»†åŒ– TODOï¼ˆå¤‡å¿˜ï¼‰

> ä»¥ä¸‹ä¸ºå½“å‰å°šæœªå®Œå…¨è½åœ°ã€ä½†åœ¨æœ¬æ–‡ä»¶æˆ–å…¶å®ƒæ–‡æ¡£ä¸­å·²ç»æœ‰é›å½¢çš„ç»†åŒ–ç‚¹ï¼Œå¯ä½œä¸ºåç»­è¿­ä»£ TODOã€‚

1. **issues_discussion å¤šè®®é¢˜åŒ–ä¸çŠ¶æ€ç»†åŒ–**  
   - ç›®å‰ä»…æœ‰é»˜è®¤è®®é¢˜ `overall-planning`ï¼Œstatus ç®€åŒ–ä¸ºç”± Coach decision æ¨å¯¼ï¼š`go â†’ resolved`ï¼Œå¦åˆ™ `unresolved`ã€‚  
   - TODOï¼š  
     - æ ¹æ® plan-review issues/test_plan/scope ç­‰æ‹†åˆ†æˆå¤šä¸ª `issue_id`ï¼›  
     - æŒ‰è®®é¢˜ç»´åº¦è®°å½• `status: resolved/unresolved` ä¸æ ¹å› æ‘˜è¦ã€‚

2. **å¤šè½®è®¨è®ºçš„â€œè·³è¿‡è§„åˆ™â€å’Œç«‹åœºå˜åŒ–è®°å½•**  
   - ç°åœ¨ä»…è®°å½•å•è½® entriesï¼Œæœªæ˜¾å¼æ ‡è®°ä» `block/concern â†’ agree` çš„å˜åŒ–ã€‚  
   - TODOï¼š  
     - åœ¨åç»­è½®æ¬¡ä¸­ä¸ºå·²è¾¾æˆå…±è¯†çš„è§’è‰²ç”Ÿæˆ `position = "skip"` çš„ entry æˆ–å®Œå…¨ç•¥è¿‡ï¼›  
     - ä¸º entries å¢åŠ  `previous_position` å­—æ®µï¼Œè®°å½•ç«‹åœºå˜åŒ–ã€‚

3. **per-role verdict æ‰©å±•å­—æ®µè½åœ°**  
   - æ–‡æ¡£ä¸­ä¸ºå„è§’è‰²è®¾è®¡äº†æ‰©å±•å­—æ®µï¼ˆå¦‚ Product çš„ `impact_summary`ã€Test çš„ `eval_links`ã€Risk çš„ `severity/blocker`ï¼‰ï¼Œå½“å‰æœªåœ¨ schema ä¸­ä½“ç°ã€‚  
   - TODOï¼š  
     - åœ¨ `PlanningMeetingVerdictSchema` ä¸­é€æ­¥åŠ å…¥è¿™äº›å­—æ®µï¼›  
     - åœ¨ planning_meeting.md å’Œ roles/*.meeting.md ä¸­å±•ç¤ºè¿™äº›æ‰©å±•å­—æ®µã€‚

4. **TestPlanner ä¸ /eval çš„é—­ç¯**  
   - ç°åœ¨ TestPlanner åªåœ¨è§„åˆ’é˜¶æ®µç»™å‡º verdict å’Œå»ºè®®ã€‚  
   - TODOï¼š  
     - åœ¨ `test_plan` ä¸­æ”¯æŒ `eval_links[]`ï¼Œç”± TestPlanner å¡«å†™ï¼›  
     - åœ¨ `TestAgent` ä¸­è¯»å–è¿™äº›é“¾æ¥ï¼Œä¸º eval ç”Ÿæˆæˆ–ç­›é€‰æ­¥éª¤ã€‚

5. **RiskPlanner ä¸è·¨é˜¶æ®µé—¨ç¦çš„é›†æˆ**  
   - ç›®å‰ RiskPlanner çš„ not_ok ä»…åœ¨ planning_meeting å†…éƒ¨å½±å“ decisionã€‚  
   - TODOï¼š  
     - ä¸º RiskPlanner verdict å¢åŠ  `severity/blocker` å­—æ®µï¼›  
     - åœ¨è§„åˆ’ä¹‹åçš„å…³é”®å‘½ä»¤ï¼ˆ/codegen /acceptï¼‰å‰ï¼Œå¯¹ blocker çº§é£é™©ç»™å‡ºæ›´å¼ºçš„æç¤ºç”šè‡³ç¦æ­¢è‡ªåŠ¨å‰è¿›ã€‚

6. **Coach çš„å¯¹è¯èŠ‚å¥ç­–ç•¥**  
   - ç°åœ¨ Coach çš„è¡Œä¸ºä¸»è¦æ˜¯åˆæˆ summary + decisionï¼Œæœªæ˜¾å¼å»ºæ¨¡å¯¹è¯èŠ‚å¥ã€‚  
   - TODOï¼š  
     - å¼•å…¥ `conversation_policy`ï¼ˆå¦‚æ¯è½®é—®é¢˜ä¸Šé™ã€æœ€å¤§è½®æ¬¡ã€ä½•æ—¶å¼ºåˆ¶æ€»ç»“ï¼‰ï¼›  
     - åœ¨ `planning.memory.jsonl` ä¸­æ ¹æ®è¯¥ç­–ç•¥è®°å½•å…³é”®å¯¹è¯èŠ‚ç‚¹ã€‚

7. **è®°å¿†ä¸è®¨è®ºè®°å½•çš„ç»Ÿä¸€**  
   - ç›®å‰ memory ä¸­æœ‰å†³ç­–ã€per-role verdictã€summaryã€open_questionsï¼Œè€Œ issues_discussion åªå­˜äº meeting JSONã€‚  
   - TODOï¼š  
     - å°† `issues_discussion.rounds[].entries` çš„ç®€åŒ–ç‰ˆæœ¬åŒæ­¥å†™å…¥ memoryï¼ˆkind = "discussion_entry"ï¼‰ï¼›  
     - ä¸ºåç»­æŒ‰è®®é¢˜/æŒ‰è§’è‰²å›æ”¾ä¼šè®®æä¾›ç»Ÿä¸€çš„æ•°æ®æºã€‚
